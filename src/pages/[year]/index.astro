---
import '@/styles/global.css'
import { getArtworks } from "@/lib/artworks";

const { year } = Astro.params;

if (!year || year.includes(".")) {
  return Astro.redirect("/404");
}

const artworks = getArtworks(year);

if (!artworks || artworks.length === 0) {
  return Astro.redirect("/404");
}
---

<html>
  <head>
    <title>Artworks from {year}</title>
  </head>
  <body class="p-8">
    <h1 class="text-4xl text-mustard font-bold mb-1">{year}</h1>
    <p class="mb-4">
      <a class="text-1xl text-white hover:underline" href="/">Back to Front Page</a>
    </p>
    <ul class="space-y-2">
      {artworks.map((file) => (
        <li>
          <a class="text-2xl white hover:underline" href={`/${year}/${file}`}>
            {file}
          </a>
        </li>
      ))}
    </ul>
  </body>
</html>
